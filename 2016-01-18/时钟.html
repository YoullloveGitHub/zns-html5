<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>时钟</title>
<style>
*{margin: 0; padding: 0;}
.time { width: 300px; height: 300px; border:1px solid #000; border-radius: 50%; margin: 100px auto; position: relative; top: 0; left: 0;}
.hou { width:6px; height:60px; background:#000; position: absolute; top: 50%; left: 50%; margin-left: -3px; margin-top: -60px; -webkit-transform-origin: center bottom; }
.min { width:4px; height:80px; background:#000; position: absolute; top: 50%; left: 50%; margin-left: -2px; margin-top: -80px; -webkit-transform-origin: center bottom;}
.sec { width:2px; height:100px; background:#000; position: absolute; top: 50%; left: 50%; margin-left: -1px; margin-top: -100px; -webkit-transform-origin: center bottom; }
.mark { width: 2px; height: 4px; background: #000; position: absolute; top: 0; left: 50%; margin-left: -1px; -webkit-transform-origin: center 150px;}
.big-mark { width: 4px; height:  8px; background: #000; position: absolute; top: 0; left: 50%; margin-left: -2px; -webkit-transform-origin: center 150px;}
.time em { font-style: normal; width: 30px; text-align: center; position: absolute; top: 10px; left: 50%; margin-left: -15px; }
.circle { width: 10px; height: 10px; background:#000; position: absolute; top: 50%; left: 50%; margin-left: -5px;margin-top: -5px; border-radius: 50%;}
</style>
<script>
document.addEventListener('DOMContentLoaded',function(){
	var oTime = document.querySelector('.time');
	var oHou = document.querySelector('.hou');
	var oMin = document.querySelector('.min');
	var oSec = document.querySelector('.sec');
	
	function timeGo(){
		var oDate = new Date();
		oHou.style.transform = 'rotateZ('+(oDate.getHours()+oDate.getMinutes()/60)*30+'deg)';
		oMin.style.transform = 'rotateZ('+(oDate.getMinutes()+oDate.getSeconds()/60)*6+'deg)'; //TODO
		oSec.style.transform = 'rotateZ('+(oDate.getSeconds()+oDate.getMilliseconds()/1000)*6+'deg)';
	}
	
	for(var i=0; i<60; i++){
		var oSpan = document.createElement('span');
		if(i%5==0){
			oSpan.className = 'big-mark';
			var oEm = document.createElement('em');
			if(i/5 == 0){
				oEm.innerHTML = 12;
			}else {
				oEm.innerHTML = i/5;
			}
			oEm.style.transform = 'rotateZ(-'+i*6+'deg)';
			oSpan.appendChild(oEm);
		}else{
			oSpan.className = 'mark';
		}
		oSpan.style.transform = 'rotateZ('+i*6+'deg)';
		oTime.appendChild(oSpan);
	}
	timeGo();
	var timer = setInterval(timeGo,30)
	
},false)

</script>
</head>

<body>
<div class="time">
	<div class="circle"></div>
	<div class="hou"></div>
    <div class="min"></div>
    <div class="sec"></div>
</div>
</body>
</html>
